{"ast":null,"code":"import * as English from \"./english.js\";\nimport * as Formats from \"./formats.js\";\nimport { padStart } from \"./util.js\";\n\nfunction stringifyTokens(splits, tokenToString) {\n  let s = \"\";\n\n  for (const token of splits) {\n    if (token.literal) {\n      s += token.val;\n    } else {\n      s += tokenToString(token.val);\n    }\n  }\n\n  return s;\n}\n\nconst macroTokenToFormatOpts = {\n  D: Formats.DATE_SHORT,\n  DD: Formats.DATE_MED,\n  DDD: Formats.DATE_FULL,\n  DDDD: Formats.DATE_HUGE,\n  t: Formats.TIME_SIMPLE,\n  tt: Formats.TIME_WITH_SECONDS,\n  ttt: Formats.TIME_WITH_SHORT_OFFSET,\n  tttt: Formats.TIME_WITH_LONG_OFFSET,\n  T: Formats.TIME_24_SIMPLE,\n  TT: Formats.TIME_24_WITH_SECONDS,\n  TTT: Formats.TIME_24_WITH_SHORT_OFFSET,\n  TTTT: Formats.TIME_24_WITH_LONG_OFFSET,\n  f: Formats.DATETIME_SHORT,\n  ff: Formats.DATETIME_MED,\n  fff: Formats.DATETIME_FULL,\n  ffff: Formats.DATETIME_HUGE,\n  F: Formats.DATETIME_SHORT_WITH_SECONDS,\n  FF: Formats.DATETIME_MED_WITH_SECONDS,\n  FFF: Formats.DATETIME_FULL_WITH_SECONDS,\n  FFFF: Formats.DATETIME_HUGE_WITH_SECONDS\n};\n/**\n * @private\n */\n\nexport default class Formatter {\n  static create(locale) {\n    let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return new Formatter(locale, opts);\n  }\n\n  static parseFormat(fmt) {\n    // white-space is always considered a literal in user-provided formats\n    // the \" \" token has a special meaning (see unitForToken)\n    let current = null,\n        currentFull = \"\",\n        bracketed = false;\n    const splits = [];\n\n    for (let i = 0; i < fmt.length; i++) {\n      const c = fmt.charAt(i);\n\n      if (c === \"'\") {\n        if (currentFull.length > 0) {\n          splits.push({\n            literal: bracketed || /^\\s+$/.test(currentFull),\n            val: currentFull\n          });\n        }\n\n        current = null;\n        currentFull = \"\";\n        bracketed = !bracketed;\n      } else if (bracketed) {\n        currentFull += c;\n      } else if (c === current) {\n        currentFull += c;\n      } else {\n        if (currentFull.length > 0) {\n          splits.push({\n            literal: /^\\s+$/.test(currentFull),\n            val: currentFull\n          });\n        }\n\n        currentFull = c;\n        current = c;\n      }\n    }\n\n    if (currentFull.length > 0) {\n      splits.push({\n        literal: bracketed || /^\\s+$/.test(currentFull),\n        val: currentFull\n      });\n    }\n\n    return splits;\n  }\n\n  static macroTokenToFormatOpts(token) {\n    return macroTokenToFormatOpts[token];\n  }\n\n  constructor(locale, formatOpts) {\n    this.opts = formatOpts;\n    this.loc = locale;\n    this.systemLoc = null;\n  }\n\n  formatWithSystemDefault(dt, opts) {\n    if (this.systemLoc === null) {\n      this.systemLoc = this.loc.redefaultToSystem();\n    }\n\n    const df = this.systemLoc.dtFormatter(dt, { ...this.opts,\n      ...opts\n    });\n    return df.format();\n  }\n\n  formatDateTime(dt) {\n    let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const df = this.loc.dtFormatter(dt, { ...this.opts,\n      ...opts\n    });\n    return df.format();\n  }\n\n  formatDateTimeParts(dt) {\n    let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const df = this.loc.dtFormatter(dt, { ...this.opts,\n      ...opts\n    });\n    return df.formatToParts();\n  }\n\n  formatInterval(interval) {\n    let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const df = this.loc.dtFormatter(interval.start, { ...this.opts,\n      ...opts\n    });\n    return df.dtf.formatRange(interval.start.toJSDate(), interval.end.toJSDate());\n  }\n\n  resolvedOptions(dt) {\n    let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const df = this.loc.dtFormatter(dt, { ...this.opts,\n      ...opts\n    });\n    return df.resolvedOptions();\n  }\n\n  num(n) {\n    let p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    // we get some perf out of doing this here, annoyingly\n    if (this.opts.forceSimple) {\n      return padStart(n, p);\n    }\n\n    const opts = { ...this.opts\n    };\n\n    if (p > 0) {\n      opts.padTo = p;\n    }\n\n    return this.loc.numberFormatter(opts).format(n);\n  }\n\n  formatDateTimeFromString(dt, fmt) {\n    const knownEnglish = this.loc.listingMode() === \"en\",\n          useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== \"gregory\",\n          string = (opts, extract) => this.loc.extract(dt, opts, extract),\n          formatOffset = opts => {\n      if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {\n        return \"Z\";\n      }\n\n      return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : \"\";\n    },\n          meridiem = () => knownEnglish ? English.meridiemForDateTime(dt) : string({\n      hour: \"numeric\",\n      hourCycle: \"h12\"\n    }, \"dayperiod\"),\n          month = (length, standalone) => knownEnglish ? English.monthForDateTime(dt, length) : string(standalone ? {\n      month: length\n    } : {\n      month: length,\n      day: \"numeric\"\n    }, \"month\"),\n          weekday = (length, standalone) => knownEnglish ? English.weekdayForDateTime(dt, length) : string(standalone ? {\n      weekday: length\n    } : {\n      weekday: length,\n      month: \"long\",\n      day: \"numeric\"\n    }, \"weekday\"),\n          maybeMacro = token => {\n      const formatOpts = Formatter.macroTokenToFormatOpts(token);\n\n      if (formatOpts) {\n        return this.formatWithSystemDefault(dt, formatOpts);\n      } else {\n        return token;\n      }\n    },\n          era = length => knownEnglish ? English.eraForDateTime(dt, length) : string({\n      era: length\n    }, \"era\"),\n          tokenToString = token => {\n      // Where possible: http://cldr.unicode.org/translation/date-time-1/date-time#TOC-Standalone-vs.-Format-Styles\n      switch (token) {\n        // ms\n        case \"S\":\n          return this.num(dt.millisecond);\n\n        case \"u\": // falls through\n\n        case \"SSS\":\n          return this.num(dt.millisecond, 3);\n        // seconds\n\n        case \"s\":\n          return this.num(dt.second);\n\n        case \"ss\":\n          return this.num(dt.second, 2);\n        // fractional seconds\n\n        case \"uu\":\n          return this.num(Math.floor(dt.millisecond / 10), 2);\n\n        case \"uuu\":\n          return this.num(Math.floor(dt.millisecond / 100));\n        // minutes\n\n        case \"m\":\n          return this.num(dt.minute);\n\n        case \"mm\":\n          return this.num(dt.minute, 2);\n        // hours\n\n        case \"h\":\n          return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);\n\n        case \"hh\":\n          return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);\n\n        case \"H\":\n          return this.num(dt.hour);\n\n        case \"HH\":\n          return this.num(dt.hour, 2);\n        // offset\n\n        case \"Z\":\n          // like +6\n          return formatOffset({\n            format: \"narrow\",\n            allowZ: this.opts.allowZ\n          });\n\n        case \"ZZ\":\n          // like +06:00\n          return formatOffset({\n            format: \"short\",\n            allowZ: this.opts.allowZ\n          });\n\n        case \"ZZZ\":\n          // like +0600\n          return formatOffset({\n            format: \"techie\",\n            allowZ: this.opts.allowZ\n          });\n\n        case \"ZZZZ\":\n          // like EST\n          return dt.zone.offsetName(dt.ts, {\n            format: \"short\",\n            locale: this.loc.locale\n          });\n\n        case \"ZZZZZ\":\n          // like Eastern Standard Time\n          return dt.zone.offsetName(dt.ts, {\n            format: \"long\",\n            locale: this.loc.locale\n          });\n        // zone\n\n        case \"z\":\n          // like America/New_York\n          return dt.zoneName;\n        // meridiems\n\n        case \"a\":\n          return meridiem();\n        // dates\n\n        case \"d\":\n          return useDateTimeFormatter ? string({\n            day: \"numeric\"\n          }, \"day\") : this.num(dt.day);\n\n        case \"dd\":\n          return useDateTimeFormatter ? string({\n            day: \"2-digit\"\n          }, \"day\") : this.num(dt.day, 2);\n        // weekdays - standalone\n\n        case \"c\":\n          // like 1\n          return this.num(dt.weekday);\n\n        case \"ccc\":\n          // like 'Tues'\n          return weekday(\"short\", true);\n\n        case \"cccc\":\n          // like 'Tuesday'\n          return weekday(\"long\", true);\n\n        case \"ccccc\":\n          // like 'T'\n          return weekday(\"narrow\", true);\n        // weekdays - format\n\n        case \"E\":\n          // like 1\n          return this.num(dt.weekday);\n\n        case \"EEE\":\n          // like 'Tues'\n          return weekday(\"short\", false);\n\n        case \"EEEE\":\n          // like 'Tuesday'\n          return weekday(\"long\", false);\n\n        case \"EEEEE\":\n          // like 'T'\n          return weekday(\"narrow\", false);\n        // months - standalone\n\n        case \"L\":\n          // like 1\n          return useDateTimeFormatter ? string({\n            month: \"numeric\",\n            day: \"numeric\"\n          }, \"month\") : this.num(dt.month);\n\n        case \"LL\":\n          // like 01, doesn't seem to work\n          return useDateTimeFormatter ? string({\n            month: \"2-digit\",\n            day: \"numeric\"\n          }, \"month\") : this.num(dt.month, 2);\n\n        case \"LLL\":\n          // like Jan\n          return month(\"short\", true);\n\n        case \"LLLL\":\n          // like January\n          return month(\"long\", true);\n\n        case \"LLLLL\":\n          // like J\n          return month(\"narrow\", true);\n        // months - format\n\n        case \"M\":\n          // like 1\n          return useDateTimeFormatter ? string({\n            month: \"numeric\"\n          }, \"month\") : this.num(dt.month);\n\n        case \"MM\":\n          // like 01\n          return useDateTimeFormatter ? string({\n            month: \"2-digit\"\n          }, \"month\") : this.num(dt.month, 2);\n\n        case \"MMM\":\n          // like Jan\n          return month(\"short\", false);\n\n        case \"MMMM\":\n          // like January\n          return month(\"long\", false);\n\n        case \"MMMMM\":\n          // like J\n          return month(\"narrow\", false);\n        // years\n\n        case \"y\":\n          // like 2014\n          return useDateTimeFormatter ? string({\n            year: \"numeric\"\n          }, \"year\") : this.num(dt.year);\n\n        case \"yy\":\n          // like 14\n          return useDateTimeFormatter ? string({\n            year: \"2-digit\"\n          }, \"year\") : this.num(dt.year.toString().slice(-2), 2);\n\n        case \"yyyy\":\n          // like 0012\n          return useDateTimeFormatter ? string({\n            year: \"numeric\"\n          }, \"year\") : this.num(dt.year, 4);\n\n        case \"yyyyyy\":\n          // like 000012\n          return useDateTimeFormatter ? string({\n            year: \"numeric\"\n          }, \"year\") : this.num(dt.year, 6);\n        // eras\n\n        case \"G\":\n          // like AD\n          return era(\"short\");\n\n        case \"GG\":\n          // like Anno Domini\n          return era(\"long\");\n\n        case \"GGGGG\":\n          return era(\"narrow\");\n\n        case \"kk\":\n          return this.num(dt.weekYear.toString().slice(-2), 2);\n\n        case \"kkkk\":\n          return this.num(dt.weekYear, 4);\n\n        case \"W\":\n          return this.num(dt.weekNumber);\n\n        case \"WW\":\n          return this.num(dt.weekNumber, 2);\n\n        case \"o\":\n          return this.num(dt.ordinal);\n\n        case \"ooo\":\n          return this.num(dt.ordinal, 3);\n\n        case \"q\":\n          // like 1\n          return this.num(dt.quarter);\n\n        case \"qq\":\n          // like 01\n          return this.num(dt.quarter, 2);\n\n        case \"X\":\n          return this.num(Math.floor(dt.ts / 1000));\n\n        case \"x\":\n          return this.num(dt.ts);\n\n        default:\n          return maybeMacro(token);\n      }\n    };\n\n    return stringifyTokens(Formatter.parseFormat(fmt), tokenToString);\n  }\n\n  formatDurationFromString(dur, fmt) {\n    const tokenToField = token => {\n      switch (token[0]) {\n        case \"S\":\n          return \"millisecond\";\n\n        case \"s\":\n          return \"second\";\n\n        case \"m\":\n          return \"minute\";\n\n        case \"h\":\n          return \"hour\";\n\n        case \"d\":\n          return \"day\";\n\n        case \"w\":\n          return \"week\";\n\n        case \"M\":\n          return \"month\";\n\n        case \"y\":\n          return \"year\";\n\n        default:\n          return null;\n      }\n    },\n          tokenToString = lildur => token => {\n      const mapped = tokenToField(token);\n\n      if (mapped) {\n        return this.num(lildur.get(mapped), token.length);\n      } else {\n        return token;\n      }\n    },\n          tokens = Formatter.parseFormat(fmt),\n          realTokens = tokens.reduce((found, _ref) => {\n      let {\n        literal,\n        val\n      } = _ref;\n      return literal ? found : found.concat(val);\n    }, []),\n          collapsed = dur.shiftTo(...realTokens.map(tokenToField).filter(t => t));\n\n    return stringifyTokens(tokens, tokenToString(collapsed));\n  }\n\n}","map":{"version":3,"sources":["/Users/luna/Documents/Elice_1st_Project/portfolio-share-service-racer/front/node_modules/luxon/src/impl/formatter.js"],"names":["English","Formats","padStart","stringifyTokens","splits","tokenToString","s","token","literal","val","macroTokenToFormatOpts","D","DATE_SHORT","DD","DATE_MED","DDD","DATE_FULL","DDDD","DATE_HUGE","t","TIME_SIMPLE","tt","TIME_WITH_SECONDS","ttt","TIME_WITH_SHORT_OFFSET","tttt","TIME_WITH_LONG_OFFSET","T","TIME_24_SIMPLE","TT","TIME_24_WITH_SECONDS","TTT","TIME_24_WITH_SHORT_OFFSET","TTTT","TIME_24_WITH_LONG_OFFSET","f","DATETIME_SHORT","ff","DATETIME_MED","fff","DATETIME_FULL","ffff","DATETIME_HUGE","F","DATETIME_SHORT_WITH_SECONDS","FF","DATETIME_MED_WITH_SECONDS","FFF","DATETIME_FULL_WITH_SECONDS","FFFF","DATETIME_HUGE_WITH_SECONDS","Formatter","create","locale","opts","parseFormat","fmt","current","currentFull","bracketed","i","length","c","charAt","push","test","constructor","formatOpts","loc","systemLoc","formatWithSystemDefault","dt","redefaultToSystem","df","dtFormatter","format","formatDateTime","formatDateTimeParts","formatToParts","formatInterval","interval","start","dtf","formatRange","toJSDate","end","resolvedOptions","num","n","p","forceSimple","padTo","numberFormatter","formatDateTimeFromString","knownEnglish","listingMode","useDateTimeFormatter","outputCalendar","string","extract","formatOffset","isOffsetFixed","offset","allowZ","isValid","zone","ts","meridiem","meridiemForDateTime","hour","hourCycle","month","standalone","monthForDateTime","day","weekday","weekdayForDateTime","maybeMacro","era","eraForDateTime","millisecond","second","Math","floor","minute","offsetName","zoneName","year","toString","slice","weekYear","weekNumber","ordinal","quarter","formatDurationFromString","dur","tokenToField","lildur","mapped","get","tokens","realTokens","reduce","found","concat","collapsed","shiftTo","map","filter"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,cAAzB;AACA,OAAO,KAAKC,OAAZ,MAAyB,cAAzB;AACA,SAASC,QAAT,QAAyB,WAAzB;;AAEA,SAASC,eAAT,CAAyBC,MAAzB,EAAiCC,aAAjC,EAAgD;AAC9C,MAAIC,CAAC,GAAG,EAAR;;AACA,OAAK,MAAMC,KAAX,IAAoBH,MAApB,EAA4B;AAC1B,QAAIG,KAAK,CAACC,OAAV,EAAmB;AACjBF,MAAAA,CAAC,IAAIC,KAAK,CAACE,GAAX;AACD,KAFD,MAEO;AACLH,MAAAA,CAAC,IAAID,aAAa,CAACE,KAAK,CAACE,GAAP,CAAlB;AACD;AACF;;AACD,SAAOH,CAAP;AACD;;AAED,MAAMI,sBAAsB,GAAG;AAC7BC,EAAAA,CAAC,EAAEV,OAAO,CAACW,UADkB;AAE7BC,EAAAA,EAAE,EAAEZ,OAAO,CAACa,QAFiB;AAG7BC,EAAAA,GAAG,EAAEd,OAAO,CAACe,SAHgB;AAI7BC,EAAAA,IAAI,EAAEhB,OAAO,CAACiB,SAJe;AAK7BC,EAAAA,CAAC,EAAElB,OAAO,CAACmB,WALkB;AAM7BC,EAAAA,EAAE,EAAEpB,OAAO,CAACqB,iBANiB;AAO7BC,EAAAA,GAAG,EAAEtB,OAAO,CAACuB,sBAPgB;AAQ7BC,EAAAA,IAAI,EAAExB,OAAO,CAACyB,qBARe;AAS7BC,EAAAA,CAAC,EAAE1B,OAAO,CAAC2B,cATkB;AAU7BC,EAAAA,EAAE,EAAE5B,OAAO,CAAC6B,oBAViB;AAW7BC,EAAAA,GAAG,EAAE9B,OAAO,CAAC+B,yBAXgB;AAY7BC,EAAAA,IAAI,EAAEhC,OAAO,CAACiC,wBAZe;AAa7BC,EAAAA,CAAC,EAAElC,OAAO,CAACmC,cAbkB;AAc7BC,EAAAA,EAAE,EAAEpC,OAAO,CAACqC,YAdiB;AAe7BC,EAAAA,GAAG,EAAEtC,OAAO,CAACuC,aAfgB;AAgB7BC,EAAAA,IAAI,EAAExC,OAAO,CAACyC,aAhBe;AAiB7BC,EAAAA,CAAC,EAAE1C,OAAO,CAAC2C,2BAjBkB;AAkB7BC,EAAAA,EAAE,EAAE5C,OAAO,CAAC6C,yBAlBiB;AAmB7BC,EAAAA,GAAG,EAAE9C,OAAO,CAAC+C,0BAnBgB;AAoB7BC,EAAAA,IAAI,EAAEhD,OAAO,CAACiD;AApBe,CAA/B;AAuBA;AACA;AACA;;AAEA,eAAe,MAAMC,SAAN,CAAgB;AAChB,SAANC,MAAM,CAACC,MAAD,EAAoB;AAAA,QAAXC,IAAW,uEAAJ,EAAI;AAC/B,WAAO,IAAIH,SAAJ,CAAcE,MAAd,EAAsBC,IAAtB,CAAP;AACD;;AAEiB,SAAXC,WAAW,CAACC,GAAD,EAAM;AACtB;AACA;AAEA,QAAIC,OAAO,GAAG,IAAd;AAAA,QACEC,WAAW,GAAG,EADhB;AAAA,QAEEC,SAAS,GAAG,KAFd;AAGA,UAAMvD,MAAM,GAAG,EAAf;;AACA,SAAK,IAAIwD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,GAAG,CAACK,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACnC,YAAME,CAAC,GAAGN,GAAG,CAACO,MAAJ,CAAWH,CAAX,CAAV;;AACA,UAAIE,CAAC,KAAK,GAAV,EAAe;AACb,YAAIJ,WAAW,CAACG,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BzD,UAAAA,MAAM,CAAC4D,IAAP,CAAY;AAAExD,YAAAA,OAAO,EAAEmD,SAAS,IAAI,QAAQM,IAAR,CAAaP,WAAb,CAAxB;AAAmDjD,YAAAA,GAAG,EAAEiD;AAAxD,WAAZ;AACD;;AACDD,QAAAA,OAAO,GAAG,IAAV;AACAC,QAAAA,WAAW,GAAG,EAAd;AACAC,QAAAA,SAAS,GAAG,CAACA,SAAb;AACD,OAPD,MAOO,IAAIA,SAAJ,EAAe;AACpBD,QAAAA,WAAW,IAAII,CAAf;AACD,OAFM,MAEA,IAAIA,CAAC,KAAKL,OAAV,EAAmB;AACxBC,QAAAA,WAAW,IAAII,CAAf;AACD,OAFM,MAEA;AACL,YAAIJ,WAAW,CAACG,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BzD,UAAAA,MAAM,CAAC4D,IAAP,CAAY;AAAExD,YAAAA,OAAO,EAAE,QAAQyD,IAAR,CAAaP,WAAb,CAAX;AAAsCjD,YAAAA,GAAG,EAAEiD;AAA3C,WAAZ;AACD;;AACDA,QAAAA,WAAW,GAAGI,CAAd;AACAL,QAAAA,OAAO,GAAGK,CAAV;AACD;AACF;;AAED,QAAIJ,WAAW,CAACG,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BzD,MAAAA,MAAM,CAAC4D,IAAP,CAAY;AAAExD,QAAAA,OAAO,EAAEmD,SAAS,IAAI,QAAQM,IAAR,CAAaP,WAAb,CAAxB;AAAmDjD,QAAAA,GAAG,EAAEiD;AAAxD,OAAZ;AACD;;AAED,WAAOtD,MAAP;AACD;;AAE4B,SAAtBM,sBAAsB,CAACH,KAAD,EAAQ;AACnC,WAAOG,sBAAsB,CAACH,KAAD,CAA7B;AACD;;AAED2D,EAAAA,WAAW,CAACb,MAAD,EAASc,UAAT,EAAqB;AAC9B,SAAKb,IAAL,GAAYa,UAAZ;AACA,SAAKC,GAAL,GAAWf,MAAX;AACA,SAAKgB,SAAL,GAAiB,IAAjB;AACD;;AAEDC,EAAAA,uBAAuB,CAACC,EAAD,EAAKjB,IAAL,EAAW;AAChC,QAAI,KAAKe,SAAL,KAAmB,IAAvB,EAA6B;AAC3B,WAAKA,SAAL,GAAiB,KAAKD,GAAL,CAASI,iBAAT,EAAjB;AACD;;AACD,UAAMC,EAAE,GAAG,KAAKJ,SAAL,CAAeK,WAAf,CAA2BH,EAA3B,EAA+B,EAAE,GAAG,KAAKjB,IAAV;AAAgB,SAAGA;AAAnB,KAA/B,CAAX;AACA,WAAOmB,EAAE,CAACE,MAAH,EAAP;AACD;;AAEDC,EAAAA,cAAc,CAACL,EAAD,EAAgB;AAAA,QAAXjB,IAAW,uEAAJ,EAAI;AAC5B,UAAMmB,EAAE,GAAG,KAAKL,GAAL,CAASM,WAAT,CAAqBH,EAArB,EAAyB,EAAE,GAAG,KAAKjB,IAAV;AAAgB,SAAGA;AAAnB,KAAzB,CAAX;AACA,WAAOmB,EAAE,CAACE,MAAH,EAAP;AACD;;AAEDE,EAAAA,mBAAmB,CAACN,EAAD,EAAgB;AAAA,QAAXjB,IAAW,uEAAJ,EAAI;AACjC,UAAMmB,EAAE,GAAG,KAAKL,GAAL,CAASM,WAAT,CAAqBH,EAArB,EAAyB,EAAE,GAAG,KAAKjB,IAAV;AAAgB,SAAGA;AAAnB,KAAzB,CAAX;AACA,WAAOmB,EAAE,CAACK,aAAH,EAAP;AACD;;AAEDC,EAAAA,cAAc,CAACC,QAAD,EAAsB;AAAA,QAAX1B,IAAW,uEAAJ,EAAI;AAClC,UAAMmB,EAAE,GAAG,KAAKL,GAAL,CAASM,WAAT,CAAqBM,QAAQ,CAACC,KAA9B,EAAqC,EAAE,GAAG,KAAK3B,IAAV;AAAgB,SAAGA;AAAnB,KAArC,CAAX;AACA,WAAOmB,EAAE,CAACS,GAAH,CAAOC,WAAP,CAAmBH,QAAQ,CAACC,KAAT,CAAeG,QAAf,EAAnB,EAA8CJ,QAAQ,CAACK,GAAT,CAAaD,QAAb,EAA9C,CAAP;AACD;;AAEDE,EAAAA,eAAe,CAACf,EAAD,EAAgB;AAAA,QAAXjB,IAAW,uEAAJ,EAAI;AAC7B,UAAMmB,EAAE,GAAG,KAAKL,GAAL,CAASM,WAAT,CAAqBH,EAArB,EAAyB,EAAE,GAAG,KAAKjB,IAAV;AAAgB,SAAGA;AAAnB,KAAzB,CAAX;AACA,WAAOmB,EAAE,CAACa,eAAH,EAAP;AACD;;AAEDC,EAAAA,GAAG,CAACC,CAAD,EAAW;AAAA,QAAPC,CAAO,uEAAH,CAAG;;AACZ;AACA,QAAI,KAAKnC,IAAL,CAAUoC,WAAd,EAA2B;AACzB,aAAOxF,QAAQ,CAACsF,CAAD,EAAIC,CAAJ,CAAf;AACD;;AAED,UAAMnC,IAAI,GAAG,EAAE,GAAG,KAAKA;AAAV,KAAb;;AAEA,QAAImC,CAAC,GAAG,CAAR,EAAW;AACTnC,MAAAA,IAAI,CAACqC,KAAL,GAAaF,CAAb;AACD;;AAED,WAAO,KAAKrB,GAAL,CAASwB,eAAT,CAAyBtC,IAAzB,EAA+BqB,MAA/B,CAAsCa,CAAtC,CAAP;AACD;;AAEDK,EAAAA,wBAAwB,CAACtB,EAAD,EAAKf,GAAL,EAAU;AAChC,UAAMsC,YAAY,GAAG,KAAK1B,GAAL,CAAS2B,WAAT,OAA2B,IAAhD;AAAA,UACEC,oBAAoB,GAAG,KAAK5B,GAAL,CAAS6B,cAAT,IAA2B,KAAK7B,GAAL,CAAS6B,cAAT,KAA4B,SADhF;AAAA,UAEEC,MAAM,GAAG,CAAC5C,IAAD,EAAO6C,OAAP,KAAmB,KAAK/B,GAAL,CAAS+B,OAAT,CAAiB5B,EAAjB,EAAqBjB,IAArB,EAA2B6C,OAA3B,CAF9B;AAAA,UAGEC,YAAY,GAAI9C,IAAD,IAAU;AACvB,UAAIiB,EAAE,CAAC8B,aAAH,IAAoB9B,EAAE,CAAC+B,MAAH,KAAc,CAAlC,IAAuChD,IAAI,CAACiD,MAAhD,EAAwD;AACtD,eAAO,GAAP;AACD;;AAED,aAAOhC,EAAE,CAACiC,OAAH,GAAajC,EAAE,CAACkC,IAAH,CAAQL,YAAR,CAAqB7B,EAAE,CAACmC,EAAxB,EAA4BpD,IAAI,CAACqB,MAAjC,CAAb,GAAwD,EAA/D;AACD,KATH;AAAA,UAUEgC,QAAQ,GAAG,MACTb,YAAY,GACR9F,OAAO,CAAC4G,mBAAR,CAA4BrC,EAA5B,CADQ,GAER2B,MAAM,CAAC;AAAEW,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,SAAS,EAAE;AAA9B,KAAD,EAAwC,WAAxC,CAbd;AAAA,UAcEC,KAAK,GAAG,CAAClD,MAAD,EAASmD,UAAT,KACNlB,YAAY,GACR9F,OAAO,CAACiH,gBAAR,CAAyB1C,EAAzB,EAA6BV,MAA7B,CADQ,GAERqC,MAAM,CAACc,UAAU,GAAG;AAAED,MAAAA,KAAK,EAAElD;AAAT,KAAH,GAAuB;AAAEkD,MAAAA,KAAK,EAAElD,MAAT;AAAiBqD,MAAAA,GAAG,EAAE;AAAtB,KAAlC,EAAqE,OAArE,CAjBd;AAAA,UAkBEC,OAAO,GAAG,CAACtD,MAAD,EAASmD,UAAT,KACRlB,YAAY,GACR9F,OAAO,CAACoH,kBAAR,CAA2B7C,EAA3B,EAA+BV,MAA/B,CADQ,GAERqC,MAAM,CACJc,UAAU,GAAG;AAAEG,MAAAA,OAAO,EAAEtD;AAAX,KAAH,GAAyB;AAAEsD,MAAAA,OAAO,EAAEtD,MAAX;AAAmBkD,MAAAA,KAAK,EAAE,MAA1B;AAAkCG,MAAAA,GAAG,EAAE;AAAvC,KAD/B,EAEJ,SAFI,CArBd;AAAA,UAyBEG,UAAU,GAAI9G,KAAD,IAAW;AACtB,YAAM4D,UAAU,GAAGhB,SAAS,CAACzC,sBAAV,CAAiCH,KAAjC,CAAnB;;AACA,UAAI4D,UAAJ,EAAgB;AACd,eAAO,KAAKG,uBAAL,CAA6BC,EAA7B,EAAiCJ,UAAjC,CAAP;AACD,OAFD,MAEO;AACL,eAAO5D,KAAP;AACD;AACF,KAhCH;AAAA,UAiCE+G,GAAG,GAAIzD,MAAD,IACJiC,YAAY,GAAG9F,OAAO,CAACuH,cAAR,CAAuBhD,EAAvB,EAA2BV,MAA3B,CAAH,GAAwCqC,MAAM,CAAC;AAAEoB,MAAAA,GAAG,EAAEzD;AAAP,KAAD,EAAkB,KAAlB,CAlC9D;AAAA,UAmCExD,aAAa,GAAIE,KAAD,IAAW;AACzB;AACA,cAAQA,KAAR;AACE;AACA,aAAK,GAAL;AACE,iBAAO,KAAKgF,GAAL,CAAShB,EAAE,CAACiD,WAAZ,CAAP;;AACF,aAAK,GAAL,CAJF,CAKE;;AACA,aAAK,KAAL;AACE,iBAAO,KAAKjC,GAAL,CAAShB,EAAE,CAACiD,WAAZ,EAAyB,CAAzB,CAAP;AACF;;AACA,aAAK,GAAL;AACE,iBAAO,KAAKjC,GAAL,CAAShB,EAAE,CAACkD,MAAZ,CAAP;;AACF,aAAK,IAAL;AACE,iBAAO,KAAKlC,GAAL,CAAShB,EAAE,CAACkD,MAAZ,EAAoB,CAApB,CAAP;AACF;;AACA,aAAK,IAAL;AACE,iBAAO,KAAKlC,GAAL,CAASmC,IAAI,CAACC,KAAL,CAAWpD,EAAE,CAACiD,WAAH,GAAiB,EAA5B,CAAT,EAA0C,CAA1C,CAAP;;AACF,aAAK,KAAL;AACE,iBAAO,KAAKjC,GAAL,CAASmC,IAAI,CAACC,KAAL,CAAWpD,EAAE,CAACiD,WAAH,GAAiB,GAA5B,CAAT,CAAP;AACF;;AACA,aAAK,GAAL;AACE,iBAAO,KAAKjC,GAAL,CAAShB,EAAE,CAACqD,MAAZ,CAAP;;AACF,aAAK,IAAL;AACE,iBAAO,KAAKrC,GAAL,CAAShB,EAAE,CAACqD,MAAZ,EAAoB,CAApB,CAAP;AACF;;AACA,aAAK,GAAL;AACE,iBAAO,KAAKrC,GAAL,CAAShB,EAAE,CAACsC,IAAH,GAAU,EAAV,KAAiB,CAAjB,GAAqB,EAArB,GAA0BtC,EAAE,CAACsC,IAAH,GAAU,EAA7C,CAAP;;AACF,aAAK,IAAL;AACE,iBAAO,KAAKtB,GAAL,CAAShB,EAAE,CAACsC,IAAH,GAAU,EAAV,KAAiB,CAAjB,GAAqB,EAArB,GAA0BtC,EAAE,CAACsC,IAAH,GAAU,EAA7C,EAAiD,CAAjD,CAAP;;AACF,aAAK,GAAL;AACE,iBAAO,KAAKtB,GAAL,CAAShB,EAAE,CAACsC,IAAZ,CAAP;;AACF,aAAK,IAAL;AACE,iBAAO,KAAKtB,GAAL,CAAShB,EAAE,CAACsC,IAAZ,EAAkB,CAAlB,CAAP;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAOT,YAAY,CAAC;AAAEzB,YAAAA,MAAM,EAAE,QAAV;AAAoB4B,YAAAA,MAAM,EAAE,KAAKjD,IAAL,CAAUiD;AAAtC,WAAD,CAAnB;;AACF,aAAK,IAAL;AACE;AACA,iBAAOH,YAAY,CAAC;AAAEzB,YAAAA,MAAM,EAAE,OAAV;AAAmB4B,YAAAA,MAAM,EAAE,KAAKjD,IAAL,CAAUiD;AAArC,WAAD,CAAnB;;AACF,aAAK,KAAL;AACE;AACA,iBAAOH,YAAY,CAAC;AAAEzB,YAAAA,MAAM,EAAE,QAAV;AAAoB4B,YAAAA,MAAM,EAAE,KAAKjD,IAAL,CAAUiD;AAAtC,WAAD,CAAnB;;AACF,aAAK,MAAL;AACE;AACA,iBAAOhC,EAAE,CAACkC,IAAH,CAAQoB,UAAR,CAAmBtD,EAAE,CAACmC,EAAtB,EAA0B;AAAE/B,YAAAA,MAAM,EAAE,OAAV;AAAmBtB,YAAAA,MAAM,EAAE,KAAKe,GAAL,CAASf;AAApC,WAA1B,CAAP;;AACF,aAAK,OAAL;AACE;AACA,iBAAOkB,EAAE,CAACkC,IAAH,CAAQoB,UAAR,CAAmBtD,EAAE,CAACmC,EAAtB,EAA0B;AAAE/B,YAAAA,MAAM,EAAE,MAAV;AAAkBtB,YAAAA,MAAM,EAAE,KAAKe,GAAL,CAASf;AAAnC,WAA1B,CAAP;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAOkB,EAAE,CAACuD,QAAV;AACF;;AACA,aAAK,GAAL;AACE,iBAAOnB,QAAQ,EAAf;AACF;;AACA,aAAK,GAAL;AACE,iBAAOX,oBAAoB,GAAGE,MAAM,CAAC;AAAEgB,YAAAA,GAAG,EAAE;AAAP,WAAD,EAAqB,KAArB,CAAT,GAAuC,KAAK3B,GAAL,CAAShB,EAAE,CAAC2C,GAAZ,CAAlE;;AACF,aAAK,IAAL;AACE,iBAAOlB,oBAAoB,GAAGE,MAAM,CAAC;AAAEgB,YAAAA,GAAG,EAAE;AAAP,WAAD,EAAqB,KAArB,CAAT,GAAuC,KAAK3B,GAAL,CAAShB,EAAE,CAAC2C,GAAZ,EAAiB,CAAjB,CAAlE;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAO,KAAK3B,GAAL,CAAShB,EAAE,CAAC4C,OAAZ,CAAP;;AACF,aAAK,KAAL;AACE;AACA,iBAAOA,OAAO,CAAC,OAAD,EAAU,IAAV,CAAd;;AACF,aAAK,MAAL;AACE;AACA,iBAAOA,OAAO,CAAC,MAAD,EAAS,IAAT,CAAd;;AACF,aAAK,OAAL;AACE;AACA,iBAAOA,OAAO,CAAC,QAAD,EAAW,IAAX,CAAd;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAO,KAAK5B,GAAL,CAAShB,EAAE,CAAC4C,OAAZ,CAAP;;AACF,aAAK,KAAL;AACE;AACA,iBAAOA,OAAO,CAAC,OAAD,EAAU,KAAV,CAAd;;AACF,aAAK,MAAL;AACE;AACA,iBAAOA,OAAO,CAAC,MAAD,EAAS,KAAT,CAAd;;AACF,aAAK,OAAL;AACE;AACA,iBAAOA,OAAO,CAAC,QAAD,EAAW,KAAX,CAAd;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAOnB,oBAAoB,GACvBE,MAAM,CAAC;AAAEa,YAAAA,KAAK,EAAE,SAAT;AAAoBG,YAAAA,GAAG,EAAE;AAAzB,WAAD,EAAuC,OAAvC,CADiB,GAEvB,KAAK3B,GAAL,CAAShB,EAAE,CAACwC,KAAZ,CAFJ;;AAGF,aAAK,IAAL;AACE;AACA,iBAAOf,oBAAoB,GACvBE,MAAM,CAAC;AAAEa,YAAAA,KAAK,EAAE,SAAT;AAAoBG,YAAAA,GAAG,EAAE;AAAzB,WAAD,EAAuC,OAAvC,CADiB,GAEvB,KAAK3B,GAAL,CAAShB,EAAE,CAACwC,KAAZ,EAAmB,CAAnB,CAFJ;;AAGF,aAAK,KAAL;AACE;AACA,iBAAOA,KAAK,CAAC,OAAD,EAAU,IAAV,CAAZ;;AACF,aAAK,MAAL;AACE;AACA,iBAAOA,KAAK,CAAC,MAAD,EAAS,IAAT,CAAZ;;AACF,aAAK,OAAL;AACE;AACA,iBAAOA,KAAK,CAAC,QAAD,EAAW,IAAX,CAAZ;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAOf,oBAAoB,GACvBE,MAAM,CAAC;AAAEa,YAAAA,KAAK,EAAE;AAAT,WAAD,EAAuB,OAAvB,CADiB,GAEvB,KAAKxB,GAAL,CAAShB,EAAE,CAACwC,KAAZ,CAFJ;;AAGF,aAAK,IAAL;AACE;AACA,iBAAOf,oBAAoB,GACvBE,MAAM,CAAC;AAAEa,YAAAA,KAAK,EAAE;AAAT,WAAD,EAAuB,OAAvB,CADiB,GAEvB,KAAKxB,GAAL,CAAShB,EAAE,CAACwC,KAAZ,EAAmB,CAAnB,CAFJ;;AAGF,aAAK,KAAL;AACE;AACA,iBAAOA,KAAK,CAAC,OAAD,EAAU,KAAV,CAAZ;;AACF,aAAK,MAAL;AACE;AACA,iBAAOA,KAAK,CAAC,MAAD,EAAS,KAAT,CAAZ;;AACF,aAAK,OAAL;AACE;AACA,iBAAOA,KAAK,CAAC,QAAD,EAAW,KAAX,CAAZ;AACF;;AACA,aAAK,GAAL;AACE;AACA,iBAAOf,oBAAoB,GAAGE,MAAM,CAAC;AAAE6B,YAAAA,IAAI,EAAE;AAAR,WAAD,EAAsB,MAAtB,CAAT,GAAyC,KAAKxC,GAAL,CAAShB,EAAE,CAACwD,IAAZ,CAApE;;AACF,aAAK,IAAL;AACE;AACA,iBAAO/B,oBAAoB,GACvBE,MAAM,CAAC;AAAE6B,YAAAA,IAAI,EAAE;AAAR,WAAD,EAAsB,MAAtB,CADiB,GAEvB,KAAKxC,GAAL,CAAShB,EAAE,CAACwD,IAAH,CAAQC,QAAR,GAAmBC,KAAnB,CAAyB,CAAC,CAA1B,CAAT,EAAuC,CAAvC,CAFJ;;AAGF,aAAK,MAAL;AACE;AACA,iBAAOjC,oBAAoB,GACvBE,MAAM,CAAC;AAAE6B,YAAAA,IAAI,EAAE;AAAR,WAAD,EAAsB,MAAtB,CADiB,GAEvB,KAAKxC,GAAL,CAAShB,EAAE,CAACwD,IAAZ,EAAkB,CAAlB,CAFJ;;AAGF,aAAK,QAAL;AACE;AACA,iBAAO/B,oBAAoB,GACvBE,MAAM,CAAC;AAAE6B,YAAAA,IAAI,EAAE;AAAR,WAAD,EAAsB,MAAtB,CADiB,GAEvB,KAAKxC,GAAL,CAAShB,EAAE,CAACwD,IAAZ,EAAkB,CAAlB,CAFJ;AAGF;;AACA,aAAK,GAAL;AACE;AACA,iBAAOT,GAAG,CAAC,OAAD,CAAV;;AACF,aAAK,IAAL;AACE;AACA,iBAAOA,GAAG,CAAC,MAAD,CAAV;;AACF,aAAK,OAAL;AACE,iBAAOA,GAAG,CAAC,QAAD,CAAV;;AACF,aAAK,IAAL;AACE,iBAAO,KAAK/B,GAAL,CAAShB,EAAE,CAAC2D,QAAH,CAAYF,QAAZ,GAAuBC,KAAvB,CAA6B,CAAC,CAA9B,CAAT,EAA2C,CAA3C,CAAP;;AACF,aAAK,MAAL;AACE,iBAAO,KAAK1C,GAAL,CAAShB,EAAE,CAAC2D,QAAZ,EAAsB,CAAtB,CAAP;;AACF,aAAK,GAAL;AACE,iBAAO,KAAK3C,GAAL,CAAShB,EAAE,CAAC4D,UAAZ,CAAP;;AACF,aAAK,IAAL;AACE,iBAAO,KAAK5C,GAAL,CAAShB,EAAE,CAAC4D,UAAZ,EAAwB,CAAxB,CAAP;;AACF,aAAK,GAAL;AACE,iBAAO,KAAK5C,GAAL,CAAShB,EAAE,CAAC6D,OAAZ,CAAP;;AACF,aAAK,KAAL;AACE,iBAAO,KAAK7C,GAAL,CAAShB,EAAE,CAAC6D,OAAZ,EAAqB,CAArB,CAAP;;AACF,aAAK,GAAL;AACE;AACA,iBAAO,KAAK7C,GAAL,CAAShB,EAAE,CAAC8D,OAAZ,CAAP;;AACF,aAAK,IAAL;AACE;AACA,iBAAO,KAAK9C,GAAL,CAAShB,EAAE,CAAC8D,OAAZ,EAAqB,CAArB,CAAP;;AACF,aAAK,GAAL;AACE,iBAAO,KAAK9C,GAAL,CAASmC,IAAI,CAACC,KAAL,CAAWpD,EAAE,CAACmC,EAAH,GAAQ,IAAnB,CAAT,CAAP;;AACF,aAAK,GAAL;AACE,iBAAO,KAAKnB,GAAL,CAAShB,EAAE,CAACmC,EAAZ,CAAP;;AACF;AACE,iBAAOW,UAAU,CAAC9G,KAAD,CAAjB;AAjLJ;AAmLD,KAxNH;;AA0NA,WAAOJ,eAAe,CAACgD,SAAS,CAACI,WAAV,CAAsBC,GAAtB,CAAD,EAA6BnD,aAA7B,CAAtB;AACD;;AAEDiI,EAAAA,wBAAwB,CAACC,GAAD,EAAM/E,GAAN,EAAW;AACjC,UAAMgF,YAAY,GAAIjI,KAAD,IAAW;AAC5B,cAAQA,KAAK,CAAC,CAAD,CAAb;AACE,aAAK,GAAL;AACE,iBAAO,aAAP;;AACF,aAAK,GAAL;AACE,iBAAO,QAAP;;AACF,aAAK,GAAL;AACE,iBAAO,QAAP;;AACF,aAAK,GAAL;AACE,iBAAO,MAAP;;AACF,aAAK,GAAL;AACE,iBAAO,KAAP;;AACF,aAAK,GAAL;AACE,iBAAO,MAAP;;AACF,aAAK,GAAL;AACE,iBAAO,OAAP;;AACF,aAAK,GAAL;AACE,iBAAO,MAAP;;AACF;AACE,iBAAO,IAAP;AAlBJ;AAoBD,KArBH;AAAA,UAsBEF,aAAa,GAAIoI,MAAD,IAAalI,KAAD,IAAW;AACrC,YAAMmI,MAAM,GAAGF,YAAY,CAACjI,KAAD,CAA3B;;AACA,UAAImI,MAAJ,EAAY;AACV,eAAO,KAAKnD,GAAL,CAASkD,MAAM,CAACE,GAAP,CAAWD,MAAX,CAAT,EAA6BnI,KAAK,CAACsD,MAAnC,CAAP;AACD,OAFD,MAEO;AACL,eAAOtD,KAAP;AACD;AACF,KA7BH;AAAA,UA8BEqI,MAAM,GAAGzF,SAAS,CAACI,WAAV,CAAsBC,GAAtB,CA9BX;AAAA,UA+BEqF,UAAU,GAAGD,MAAM,CAACE,MAAP,CACX,CAACC,KAAD;AAAA,UAAQ;AAAEvI,QAAAA,OAAF;AAAWC,QAAAA;AAAX,OAAR;AAAA,aAA8BD,OAAO,GAAGuI,KAAH,GAAWA,KAAK,CAACC,MAAN,CAAavI,GAAb,CAAhD;AAAA,KADW,EAEX,EAFW,CA/Bf;AAAA,UAmCEwI,SAAS,GAAGV,GAAG,CAACW,OAAJ,CAAY,GAAGL,UAAU,CAACM,GAAX,CAAeX,YAAf,EAA6BY,MAA7B,CAAqCjI,CAAD,IAAOA,CAA3C,CAAf,CAnCd;;AAoCA,WAAOhB,eAAe,CAACyI,MAAD,EAASvI,aAAa,CAAC4I,SAAD,CAAtB,CAAtB;AACD;;AAnW4B","sourcesContent":["import * as English from \"./english.js\";\nimport * as Formats from \"./formats.js\";\nimport { padStart } from \"./util.js\";\n\nfunction stringifyTokens(splits, tokenToString) {\n  let s = \"\";\n  for (const token of splits) {\n    if (token.literal) {\n      s += token.val;\n    } else {\n      s += tokenToString(token.val);\n    }\n  }\n  return s;\n}\n\nconst macroTokenToFormatOpts = {\n  D: Formats.DATE_SHORT,\n  DD: Formats.DATE_MED,\n  DDD: Formats.DATE_FULL,\n  DDDD: Formats.DATE_HUGE,\n  t: Formats.TIME_SIMPLE,\n  tt: Formats.TIME_WITH_SECONDS,\n  ttt: Formats.TIME_WITH_SHORT_OFFSET,\n  tttt: Formats.TIME_WITH_LONG_OFFSET,\n  T: Formats.TIME_24_SIMPLE,\n  TT: Formats.TIME_24_WITH_SECONDS,\n  TTT: Formats.TIME_24_WITH_SHORT_OFFSET,\n  TTTT: Formats.TIME_24_WITH_LONG_OFFSET,\n  f: Formats.DATETIME_SHORT,\n  ff: Formats.DATETIME_MED,\n  fff: Formats.DATETIME_FULL,\n  ffff: Formats.DATETIME_HUGE,\n  F: Formats.DATETIME_SHORT_WITH_SECONDS,\n  FF: Formats.DATETIME_MED_WITH_SECONDS,\n  FFF: Formats.DATETIME_FULL_WITH_SECONDS,\n  FFFF: Formats.DATETIME_HUGE_WITH_SECONDS,\n};\n\n/**\n * @private\n */\n\nexport default class Formatter {\n  static create(locale, opts = {}) {\n    return new Formatter(locale, opts);\n  }\n\n  static parseFormat(fmt) {\n    // white-space is always considered a literal in user-provided formats\n    // the \" \" token has a special meaning (see unitForToken)\n\n    let current = null,\n      currentFull = \"\",\n      bracketed = false;\n    const splits = [];\n    for (let i = 0; i < fmt.length; i++) {\n      const c = fmt.charAt(i);\n      if (c === \"'\") {\n        if (currentFull.length > 0) {\n          splits.push({ literal: bracketed || /^\\s+$/.test(currentFull), val: currentFull });\n        }\n        current = null;\n        currentFull = \"\";\n        bracketed = !bracketed;\n      } else if (bracketed) {\n        currentFull += c;\n      } else if (c === current) {\n        currentFull += c;\n      } else {\n        if (currentFull.length > 0) {\n          splits.push({ literal: /^\\s+$/.test(currentFull), val: currentFull });\n        }\n        currentFull = c;\n        current = c;\n      }\n    }\n\n    if (currentFull.length > 0) {\n      splits.push({ literal: bracketed || /^\\s+$/.test(currentFull), val: currentFull });\n    }\n\n    return splits;\n  }\n\n  static macroTokenToFormatOpts(token) {\n    return macroTokenToFormatOpts[token];\n  }\n\n  constructor(locale, formatOpts) {\n    this.opts = formatOpts;\n    this.loc = locale;\n    this.systemLoc = null;\n  }\n\n  formatWithSystemDefault(dt, opts) {\n    if (this.systemLoc === null) {\n      this.systemLoc = this.loc.redefaultToSystem();\n    }\n    const df = this.systemLoc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.format();\n  }\n\n  formatDateTime(dt, opts = {}) {\n    const df = this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.format();\n  }\n\n  formatDateTimeParts(dt, opts = {}) {\n    const df = this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.formatToParts();\n  }\n\n  formatInterval(interval, opts = {}) {\n    const df = this.loc.dtFormatter(interval.start, { ...this.opts, ...opts });\n    return df.dtf.formatRange(interval.start.toJSDate(), interval.end.toJSDate());\n  }\n\n  resolvedOptions(dt, opts = {}) {\n    const df = this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.resolvedOptions();\n  }\n\n  num(n, p = 0) {\n    // we get some perf out of doing this here, annoyingly\n    if (this.opts.forceSimple) {\n      return padStart(n, p);\n    }\n\n    const opts = { ...this.opts };\n\n    if (p > 0) {\n      opts.padTo = p;\n    }\n\n    return this.loc.numberFormatter(opts).format(n);\n  }\n\n  formatDateTimeFromString(dt, fmt) {\n    const knownEnglish = this.loc.listingMode() === \"en\",\n      useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== \"gregory\",\n      string = (opts, extract) => this.loc.extract(dt, opts, extract),\n      formatOffset = (opts) => {\n        if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {\n          return \"Z\";\n        }\n\n        return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : \"\";\n      },\n      meridiem = () =>\n        knownEnglish\n          ? English.meridiemForDateTime(dt)\n          : string({ hour: \"numeric\", hourCycle: \"h12\" }, \"dayperiod\"),\n      month = (length, standalone) =>\n        knownEnglish\n          ? English.monthForDateTime(dt, length)\n          : string(standalone ? { month: length } : { month: length, day: \"numeric\" }, \"month\"),\n      weekday = (length, standalone) =>\n        knownEnglish\n          ? English.weekdayForDateTime(dt, length)\n          : string(\n              standalone ? { weekday: length } : { weekday: length, month: \"long\", day: \"numeric\" },\n              \"weekday\"\n            ),\n      maybeMacro = (token) => {\n        const formatOpts = Formatter.macroTokenToFormatOpts(token);\n        if (formatOpts) {\n          return this.formatWithSystemDefault(dt, formatOpts);\n        } else {\n          return token;\n        }\n      },\n      era = (length) =>\n        knownEnglish ? English.eraForDateTime(dt, length) : string({ era: length }, \"era\"),\n      tokenToString = (token) => {\n        // Where possible: http://cldr.unicode.org/translation/date-time-1/date-time#TOC-Standalone-vs.-Format-Styles\n        switch (token) {\n          // ms\n          case \"S\":\n            return this.num(dt.millisecond);\n          case \"u\":\n          // falls through\n          case \"SSS\":\n            return this.num(dt.millisecond, 3);\n          // seconds\n          case \"s\":\n            return this.num(dt.second);\n          case \"ss\":\n            return this.num(dt.second, 2);\n          // fractional seconds\n          case \"uu\":\n            return this.num(Math.floor(dt.millisecond / 10), 2);\n          case \"uuu\":\n            return this.num(Math.floor(dt.millisecond / 100));\n          // minutes\n          case \"m\":\n            return this.num(dt.minute);\n          case \"mm\":\n            return this.num(dt.minute, 2);\n          // hours\n          case \"h\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);\n          case \"hh\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);\n          case \"H\":\n            return this.num(dt.hour);\n          case \"HH\":\n            return this.num(dt.hour, 2);\n          // offset\n          case \"Z\":\n            // like +6\n            return formatOffset({ format: \"narrow\", allowZ: this.opts.allowZ });\n          case \"ZZ\":\n            // like +06:00\n            return formatOffset({ format: \"short\", allowZ: this.opts.allowZ });\n          case \"ZZZ\":\n            // like +0600\n            return formatOffset({ format: \"techie\", allowZ: this.opts.allowZ });\n          case \"ZZZZ\":\n            // like EST\n            return dt.zone.offsetName(dt.ts, { format: \"short\", locale: this.loc.locale });\n          case \"ZZZZZ\":\n            // like Eastern Standard Time\n            return dt.zone.offsetName(dt.ts, { format: \"long\", locale: this.loc.locale });\n          // zone\n          case \"z\":\n            // like America/New_York\n            return dt.zoneName;\n          // meridiems\n          case \"a\":\n            return meridiem();\n          // dates\n          case \"d\":\n            return useDateTimeFormatter ? string({ day: \"numeric\" }, \"day\") : this.num(dt.day);\n          case \"dd\":\n            return useDateTimeFormatter ? string({ day: \"2-digit\" }, \"day\") : this.num(dt.day, 2);\n          // weekdays - standalone\n          case \"c\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"ccc\":\n            // like 'Tues'\n            return weekday(\"short\", true);\n          case \"cccc\":\n            // like 'Tuesday'\n            return weekday(\"long\", true);\n          case \"ccccc\":\n            // like 'T'\n            return weekday(\"narrow\", true);\n          // weekdays - format\n          case \"E\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"EEE\":\n            // like 'Tues'\n            return weekday(\"short\", false);\n          case \"EEEE\":\n            // like 'Tuesday'\n            return weekday(\"long\", false);\n          case \"EEEEE\":\n            // like 'T'\n            return weekday(\"narrow\", false);\n          // months - standalone\n          case \"L\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"LL\":\n            // like 01, doesn't seem to work\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"LLL\":\n            // like Jan\n            return month(\"short\", true);\n          case \"LLLL\":\n            // like January\n            return month(\"long\", true);\n          case \"LLLLL\":\n            // like J\n            return month(\"narrow\", true);\n          // months - format\n          case \"M\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"MM\":\n            // like 01\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"MMM\":\n            // like Jan\n            return month(\"short\", false);\n          case \"MMMM\":\n            // like January\n            return month(\"long\", false);\n          case \"MMMMM\":\n            // like J\n            return month(\"narrow\", false);\n          // years\n          case \"y\":\n            // like 2014\n            return useDateTimeFormatter ? string({ year: \"numeric\" }, \"year\") : this.num(dt.year);\n          case \"yy\":\n            // like 14\n            return useDateTimeFormatter\n              ? string({ year: \"2-digit\" }, \"year\")\n              : this.num(dt.year.toString().slice(-2), 2);\n          case \"yyyy\":\n            // like 0012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 4);\n          case \"yyyyyy\":\n            // like 000012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 6);\n          // eras\n          case \"G\":\n            // like AD\n            return era(\"short\");\n          case \"GG\":\n            // like Anno Domini\n            return era(\"long\");\n          case \"GGGGG\":\n            return era(\"narrow\");\n          case \"kk\":\n            return this.num(dt.weekYear.toString().slice(-2), 2);\n          case \"kkkk\":\n            return this.num(dt.weekYear, 4);\n          case \"W\":\n            return this.num(dt.weekNumber);\n          case \"WW\":\n            return this.num(dt.weekNumber, 2);\n          case \"o\":\n            return this.num(dt.ordinal);\n          case \"ooo\":\n            return this.num(dt.ordinal, 3);\n          case \"q\":\n            // like 1\n            return this.num(dt.quarter);\n          case \"qq\":\n            // like 01\n            return this.num(dt.quarter, 2);\n          case \"X\":\n            return this.num(Math.floor(dt.ts / 1000));\n          case \"x\":\n            return this.num(dt.ts);\n          default:\n            return maybeMacro(token);\n        }\n      };\n\n    return stringifyTokens(Formatter.parseFormat(fmt), tokenToString);\n  }\n\n  formatDurationFromString(dur, fmt) {\n    const tokenToField = (token) => {\n        switch (token[0]) {\n          case \"S\":\n            return \"millisecond\";\n          case \"s\":\n            return \"second\";\n          case \"m\":\n            return \"minute\";\n          case \"h\":\n            return \"hour\";\n          case \"d\":\n            return \"day\";\n          case \"w\":\n            return \"week\";\n          case \"M\":\n            return \"month\";\n          case \"y\":\n            return \"year\";\n          default:\n            return null;\n        }\n      },\n      tokenToString = (lildur) => (token) => {\n        const mapped = tokenToField(token);\n        if (mapped) {\n          return this.num(lildur.get(mapped), token.length);\n        } else {\n          return token;\n        }\n      },\n      tokens = Formatter.parseFormat(fmt),\n      realTokens = tokens.reduce(\n        (found, { literal, val }) => (literal ? found : found.concat(val)),\n        []\n      ),\n      collapsed = dur.shiftTo(...realTokens.map(tokenToField).filter((t) => t));\n    return stringifyTokens(tokens, tokenToString(collapsed));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}