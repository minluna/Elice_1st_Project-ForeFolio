{"ast":null,"code":"var _jsxFileName = \"/Users/luna/Documents/Elice_1st_Project/my_test/front/src/pages/portfolio/Portfolio.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { UserStateContext } from '../../App';\nimport * as Api from '../../api';\nimport User from '../../components/user/User';\nimport Award from '../../components/award/Award';\nimport Education from '../../components/education/Education';\nimport Certificate from '../../components/certificate/Certificate';\nimport Project from '../../components/project/Project';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Portfolio() {\n  _s();\n\n  var _userState$user$_id, _userState$user, _userState$user2, _userState$user$_id2, _userState$user3, _userState$user4;\n\n  const navigate = useNavigate();\n  const params = useParams(); // useState 훅을 통해 portfolioOwner 상태를 생성함.\n\n  const [portfolioOwner, setPortfolioOwner] = useState(null); // fetchPorfolioOwner 함수가 완료된 이후에만 (isFetchCompleted가 true여야) 컴포넌트가 구현되도록 함.\n  // 아래 코드를 보면, isFetchCompleted가 false이면 \"loading...\"만 반환되어서, 화면에 이 로딩 문구만 뜨게 됨.\n\n  const [isFetchCompleted, setIsFetchCompleted] = useState(false);\n  const userState = useContext(UserStateContext);\n\n  const fetchPorfolioOwner = async ownerId => {\n    // 유저 id를 가지고 \"/user/유저id\" 엔드포인트로 요청해 사용자 정보를 불러옴.\n    const res = await Api.get('user', ownerId); // 사용자 정보는 response의 data임.\n\n    const ownerData = res.data; // portfolioOwner을 해당 사용자 정보로 세팅함.\n\n    setPortfolioOwner(ownerData); // fetchPorfolioOwner 과정이 끝났으므로, isFetchCompleted를 true로 바꿈.\n\n    setIsFetchCompleted(true);\n  };\n\n  useEffect(() => {\n    // 전역 상태의 user가 null이라면 로그인이 안 된 상태이므로, 로그인 페이지로 돌림.\n    if (!userState.user) {\n      navigate('/login', {\n        replace: true\n      });\n      return;\n    }\n\n    console.log(params).userId;\n\n    if (params.userId) {\n      // 만약 현재 URL이 \"/user/:userId\" 라면, 이 userId를 유저 id로 설정함.\n      const ownerId = params.userId; // 해당 유저 id로 fetchPorfolioOwner 함수를 실행함.\n\n      fetchPorfolioOwner(ownerId);\n    } else {\n      // 이외의 경우, 즉 URL이 \"/\" 라면, 전역 상태의 user.id를 유저 id로 설정함.\n      const ownerId = userState.user.id;\n      console.log(ownerId); // 해당 유저 id로 fetchPorfolioOwner 함수를 실행함.\n\n      fetchPorfolioOwner(ownerId);\n    }\n  }, [params, userState, navigate]);\n\n  if (!isFetchCompleted) {\n    return 'loading...';\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(User, {\n          portfolioOwnerId: portfolioOwner.userInfo._id,\n          isEditable: portfolioOwner.userInfo._id === ((_userState$user$_id = (_userState$user = userState.user) === null || _userState$user === void 0 ? void 0 : _userState$user._id) !== null && _userState$user$_id !== void 0 ? _userState$user$_id : (_userState$user2 = userState.user) === null || _userState$user2 === void 0 ? void 0 : _userState$user2.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: true,\n        md: \"9\",\n        lg: \"9\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'left'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(Certificate, {\n              portfolioOwnerId: portfolioOwner.userInfo._id,\n              isEditable: portfolioOwner.userInfo._id === ((_userState$user$_id2 = (_userState$user3 = userState.user) === null || _userState$user3 === void 0 ? void 0 : _userState$user3._id) !== null && _userState$user$_id2 !== void 0 ? _userState$user$_id2 : (_userState$user4 = userState.user) === null || _userState$user4 === void 0 ? void 0 : _userState$user4.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Portfolio, \"ozN5wJsbZI17qb28PSn+j5/v+Ps=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Portfolio;\nexport default Portfolio;\n\nvar _c;\n\n$RefreshReg$(_c, \"Portfolio\");","map":{"version":3,"sources":["/Users/luna/Documents/Elice_1st_Project/my_test/front/src/pages/portfolio/Portfolio.js"],"names":["React","useContext","useState","useEffect","useNavigate","useParams","Container","Col","Row","UserStateContext","Api","User","Award","Education","Certificate","Project","Portfolio","navigate","params","portfolioOwner","setPortfolioOwner","isFetchCompleted","setIsFetchCompleted","userState","fetchPorfolioOwner","ownerId","res","get","ownerData","data","user","replace","console","log","userId","id","userInfo","_id","textAlign"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { UserStateContext } from '../../App';\nimport * as Api from '../../api';\n\nimport User from '../../components/user/User';\nimport Award from '../../components/award/Award';\nimport Education from '../../components/education/Education';\nimport Certificate from '../../components/certificate/Certificate';\nimport Project from '../../components/project/Project';\n\nfunction Portfolio() {\n    const navigate = useNavigate();\n    const params = useParams();\n    // useState 훅을 통해 portfolioOwner 상태를 생성함.\n    const [portfolioOwner, setPortfolioOwner] = useState(null);\n    // fetchPorfolioOwner 함수가 완료된 이후에만 (isFetchCompleted가 true여야) 컴포넌트가 구현되도록 함.\n    // 아래 코드를 보면, isFetchCompleted가 false이면 \"loading...\"만 반환되어서, 화면에 이 로딩 문구만 뜨게 됨.\n    const [isFetchCompleted, setIsFetchCompleted] = useState(false);\n    const userState = useContext(UserStateContext);\n\n    const fetchPorfolioOwner = async (ownerId) => {\n        // 유저 id를 가지고 \"/user/유저id\" 엔드포인트로 요청해 사용자 정보를 불러옴.\n        const res = await Api.get('user', ownerId);\n        // 사용자 정보는 response의 data임.\n        const ownerData = res.data;\n        // portfolioOwner을 해당 사용자 정보로 세팅함.\n        setPortfolioOwner(ownerData);\n        // fetchPorfolioOwner 과정이 끝났으므로, isFetchCompleted를 true로 바꿈.\n        setIsFetchCompleted(true);\n    };\n\n    useEffect(() => {\n        // 전역 상태의 user가 null이라면 로그인이 안 된 상태이므로, 로그인 페이지로 돌림.\n        if (!userState.user) {\n            navigate('/login', { replace: true });\n            return;\n        }\n        console.log(params).userId;\n        if (params.userId) {\n            // 만약 현재 URL이 \"/user/:userId\" 라면, 이 userId를 유저 id로 설정함.\n            const ownerId = params.userId;\n            // 해당 유저 id로 fetchPorfolioOwner 함수를 실행함.\n            fetchPorfolioOwner(ownerId);\n        } else {\n            // 이외의 경우, 즉 URL이 \"/\" 라면, 전역 상태의 user.id를 유저 id로 설정함.\n            const ownerId = userState.user.id;\n\n            console.log(ownerId);\n            // 해당 유저 id로 fetchPorfolioOwner 함수를 실행함.\n            fetchPorfolioOwner(ownerId);\n        }\n    }, [params, userState, navigate]);\n\n    if (!isFetchCompleted) {\n        return 'loading...';\n    }\n\n    return (\n        <Container>\n            <Row>\n                <Col className='mb-2'>\n                    <User\n                        portfolioOwnerId={portfolioOwner.userInfo._id}\n                        isEditable={portfolioOwner.userInfo._id === (userState.user?._id ?? userState.user?.id)}\n                    />\n                </Col>\n                <Col sm md='9' lg='9'>\n                    <div style={{ textAlign: 'left' }}>\n                        {/* <div className='mb-3'>\n                            <Award\n                                portfolioOwnerId={portfolioOwner.userInfo._id}\n                                isEditable={portfolioOwner.userInfo._id === userState.user?.id}\n                            /> */}\n                        {/* </div>\n                        <div className='mb-3'>\n                            <Education\n                                portfolioOwnerId={portfolioOwner.userInfo._id}\n                                isEditable={portfolioOwner.userInfo._id === userState.user?.id}\n                            />\n                        </div> */}\n                        <div className='mb-3'>\n                            <Certificate\n                                portfolioOwnerId={portfolioOwner.userInfo._id}\n                                isEditable={portfolioOwner.userInfo._id === (userState.user?._id ?? userState.user?.id)}\n                            />\n                        </div>\n                        {/* <div className='mb-3'>\n                            <Project\n                                portfolioOwnerId={portfolioOwner.userInfo._id}\n                                isEditable={portfolioOwner.userInfo._id === userState.user?.id}\n                            />\n                        </div> */}\n                    </div>\n                </Col>\n            </Row>\n        </Container>\n    );\n}\n\nexport default Portfolio;\n"]},"metadata":{},"sourceType":"module"}