{"ast":null,"code":"var _jsxFileName = \"/Users/luna/Documents/Elice_1st_Project/portfolio-share-service-racer/front/src/pages/login/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../../static/font.css\";\nimport { Card, Container, Col, Row, Form, Button } from \"react-bootstrap\";\nimport { Typography } from '@material-ui/core';\nimport * as Api from \"../../api\";\nimport { DispatchContext } from \"../../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm() {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useContext(DispatchContext); //useState로 email 상태를 생성함.\n\n  const [email, setEmail] = useState(\"\"); //useState로 password 상태를 생성함.\n\n  const [password, setPassword] = useState(\"\"); //이메일이 abc@example.com 형태인지 regex를 이용해 확인함.\n\n  const validateEmail = email => {\n    return email.toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n  }; //위 validateEmail 함수를 통해 이메일 형태 적합 여부를 확인함.\n\n\n  const isEmailValid = validateEmail(email); // 비밀번호가 4글자 이상인지 여부를 확인함.\n\n  const isPasswordValid = password.length >= 4; //\n  // 이메일과 비밀번호 조건이 동시에 만족되는지 확인함.\n\n  const isFormValid = isEmailValid && isPasswordValid;\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      // \"user/login\" 엔드포인트로 post요청함.\n      const res = await Api.post(\"user/login\", {\n        email,\n        password\n      }); // 유저 정보는 response의 data임.\n\n      const user = res.data; // JWT 토큰은 유저 정보의 token임.\n\n      const jwtToken = user.token; // sessionStorage에 \"userToken\"이라는 키로 JWT 토큰을 저장함.\n\n      sessionStorage.setItem(\"userToken\", jwtToken); // dispatch 함수를 이용해 로그인 성공 상태로 만듦.\n\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: user\n      }); // 기본 페이지로 이동함.\n\n      navigate(\"/\", {\n        replace: true\n      });\n    } catch (err) {\n      if (err.response.status === 400) {\n        alert(err.response.data.error);\n      }\n\n      console.log(\"로그인에 실패하였습니다.\\n\", err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    style: {\n      height: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"align-items-center\",\n      style: {\n        marginTop: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        sm: 6,\n        className: \"d-flex align-items-center flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            style: {\n              fontFamily: \"BMKIRANGHAERANG\",\n              color: \"white\",\n              textShadow: \"-5px 0px #576069, 0px 5px #576069, 5px 0px #576069, 0px -5px #576069\"\n            },\n            children: \"Forefolio.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex align-items-center text-center\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              color: \"white\"\n            },\n            children: [\"Let\\u2019s start the first step on your Odyssey as developer. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 70\n            }, this), \"It might be a long and hard journey. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 50\n            }, this), \"But with Forefolio, you can do it!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 13\n            }, this), \"\\uAC1C\\uBC1C\\uC790 \\uC624\\uB527\\uC138\\uC774\\uC758 \\uCCAB \\uAC78\\uC74C\\uC744 \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }, this), \"\\uAE38\\uACE0 \\uD798\\uB4E0 \\uC5EC\\uC815\\uC774 \\uB420 \\uC218\\uB3C4 \\uC788\\uACA0\\uC9C0\\uB9CC,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 13\n            }, this), \"Forefolio\\uC640 \\uD568\\uAED8\\uB77C\\uBA74 \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"justify-content-md-center mt-5\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              lg: 8,\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"loginEmail\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      style: {\n                        fontFamily: \"BMKIRANGHAERANG\",\n                        color: \"#576069\"\n                      },\n                      children: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"email\",\n                    autoComplete: \"on\",\n                    value: email,\n                    onChange: e => setEmail(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 21\n                  }, this), !isEmailValid && /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-success\",\n                    children: \"\\uC774\\uBA54\\uC77C \\uD615\\uC2DD\\uC774 \\uC62C\\uBC14\\uB974\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"loginPassword\",\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      style: {\n                        fontFamily: \"BMKIRANGHAERANG\",\n                        color: \"#576069\"\n                      },\n                      children: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"password\",\n                    autoComplete: \"on\",\n                    value: password,\n                    onChange: e => setPassword(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 21\n                  }, this), !isPasswordValid && /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-success\",\n                    children: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB294 4\\uAE00\\uC790 \\uC774\\uC0C1\\uC785\\uB2C8\\uB2E4.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 42\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Row,\n                  className: \"mt-3 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    sm: {\n                      span: 20\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      style: {\n                        backgroundColor: \"#2a3741\",\n                        border: \"none\"\n                      },\n                      type: \"submit\",\n                      disabled: !isFormValid,\n                      children: \"\\uB85C\\uADF8\\uC778\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  as: Row,\n                  className: \"mt-3 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    sm: {\n                      span: 20\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"light\",\n                      onClick: () => navigate(\"/register\"),\n                      children: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"yNum6TSHGltFWNrMMdHLrDvrmhw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/luna/Documents/Elice_1st_Project/portfolio-share-service-racer/front/src/pages/login/LoginForm.js"],"names":["React","useState","useContext","useNavigate","Card","Container","Col","Row","Form","Button","Typography","Api","DispatchContext","LoginForm","navigate","dispatch","email","setEmail","password","setPassword","validateEmail","toLowerCase","match","isEmailValid","isPasswordValid","length","isFormValid","handleSubmit","e","preventDefault","res","post","user","data","jwtToken","token","sessionStorage","setItem","type","payload","replace","err","response","status","alert","error","console","log","height","marginTop","fontFamily","color","textShadow","target","value","span","backgroundColor","border"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../../static/font.css\";\nimport { Card, Container, Col, Row, Form, Button } from \"react-bootstrap\";\nimport { Typography } from '@material-ui/core';\n\nimport * as Api from \"../../api\";\nimport { DispatchContext } from \"../../App\";\n\nfunction LoginForm() {\n  const navigate = useNavigate();\n  const dispatch = useContext(DispatchContext);\n\n  //useState로 email 상태를 생성함.\n  const [email, setEmail] = useState(\"\");\n  //useState로 password 상태를 생성함.\n  const [password, setPassword] = useState(\"\");\n\n  //이메일이 abc@example.com 형태인지 regex를 이용해 확인함.\n  const validateEmail = (email) => {\n    return email\n      .toLowerCase()\n      .match(\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      );\n  };\n\n  //위 validateEmail 함수를 통해 이메일 형태 적합 여부를 확인함.\n  const isEmailValid = validateEmail(email);\n  // 비밀번호가 4글자 이상인지 여부를 확인함.\n  const isPasswordValid = password.length >= 4;\n  //\n  // 이메일과 비밀번호 조건이 동시에 만족되는지 확인함.\n  const isFormValid = isEmailValid && isPasswordValid;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      // \"user/login\" 엔드포인트로 post요청함.\n      const res = await Api.post(\"user/login\", {\n        email,\n        password,\n      });\n      // 유저 정보는 response의 data임.\n      const user = res.data;\n      // JWT 토큰은 유저 정보의 token임.\n      const jwtToken = user.token;\n      // sessionStorage에 \"userToken\"이라는 키로 JWT 토큰을 저장함.\n      sessionStorage.setItem(\"userToken\", jwtToken);\n      // dispatch 함수를 이용해 로그인 성공 상태로 만듦.\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: user,\n      });\n\n      // 기본 페이지로 이동함.\n      navigate(\"/\", { replace: true });\n    } catch (err) {\n      if (err.response.status === 400) {\n        alert(err.response.data.error);\n      }\n      console.log(\"로그인에 실패하였습니다.\\n\", err);\n    }\n  };\n\n  return (\n    <Container fluid style={{ height: \"100%\" }}>\n      <Row className=\"align-items-center\" style={{ marginTop: \"100px\" }}>\n        <Col sm={6} className=\"d-flex align-items-center flex-column\">\n          <Row className=\"d-flex align-items-center\">\n            <Typography variant=\"h1\" style={{fontFamily:\"BMKIRANGHAERANG\", color:\"white\", textShadow: \"-5px 0px #576069, 0px 5px #576069, 5px 0px #576069, 0px -5px #576069\"}}>\n                Forefolio.com\n            </Typography></Row>\n          <Row className=\"d-flex align-items-center text-center\">\n          <Typography style={{color:\"white\"}}>\n            Let’s start the first step on your Odyssey as developer. <br />\n            It might be a long and hard journey. <br />\n            But with Forefolio, you can do it!\n            <br />\n            <br />\n            개발자 오딧세이의 첫 걸음을 시작해보세요.\n            <br />\n            길고 힘든 여정이 될 수도 있겠지만,\n            <br />\n            Forefolio와 함께라면 할 수 있습니다!\n            </Typography>\n          </Row>\n        </Col>\n        <Col sm={6}>\n          <Card>\n            <Row className=\"justify-content-md-center mt-5\">\n              <Col lg={8}>\n                <Form onSubmit={handleSubmit}>\n                  <Form.Group controlId=\"loginEmail\">\n                    <Form.Label><Typography style={{fontFamily:\"BMKIRANGHAERANG\", color:\"#576069\"}}>이메일 주소</Typography></Form.Label>\n                    <Form.Control\n                      type=\"email\"\n                      autoComplete=\"on\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                    />\n                    {!isEmailValid && <Form.Text className=\"text-success\">이메일 형식이 올바르지 않습니다.</Form.Text>}\n                  </Form.Group>\n\n                  <Form.Group controlId=\"loginPassword\" className=\"mt-3\">\n                    <Form.Label><Typography style={{fontFamily:\"BMKIRANGHAERANG\", color:\"#576069\"}}>비밀번호</Typography></Form.Label>\n                    <Form.Control\n                      type=\"password\"\n                      autoComplete=\"on\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n                    {!isPasswordValid && <Form.Text className=\"text-success\">비밀번호는 4글자 이상입니다.</Form.Text>}\n                  </Form.Group>\n\n                  <Form.Group as={Row} className=\"mt-3 text-center\">\n                    <Col sm={{ span: 20 }}>\n                      <Button\n                        style={{ backgroundColor: \"#2a3741\", border: \"none\" }}\n                        type=\"submit\"\n                        disabled={!isFormValid}\n                      >\n                        로그인\n                      </Button>\n                    </Col>\n                  </Form.Group>\n\n                  <Form.Group as={Row} className=\"mt-3 text-center\">\n                    <Col sm={{ span: 20 }}>\n                      <Button variant=\"light\" onClick={() => navigate(\"/register\")}>\n                        회원가입하기\n                      </Button>\n                    </Col>\n                  </Form.Group>\n                </Form>\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}